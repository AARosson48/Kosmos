<html>
	<head>
		<title>Kosmos</title>
		<style>
			body {
				padding: 0;
				border: 0;
				margin: 0;
			}
			canvas {
				float: left;
				width: 100%;
				height: 100%;
				padding: 0;
				border: 0;
				margin: 0;
			}
		</style>
	</head>
	<body>
		<canvas id="kosmosCanvas"/>

		<script id="shader-fs" type="x-shader/x-fragment">
		    precision mediump float;

		    varying vec4 vColor;

		    void main(void) {
		        gl_FragColor = vec4(1, 1, 1, 1); //vColor;
		    }
		</script>

		<script id="shader-vs" type="x-shader/x-vertex">
		    attribute vec3 inPos;

		    uniform mat4 modelViewMat;
		    uniform mat4 projMat;

		    varying vec4 vColor;

		    void main(void) {
		        gl_Position = projMat * modelViewMat * vec4(inPos, 1.0);
		        vColor = vec4(1, 1, 1, 1);
		    }
		</script>

		<script id="starfield-fs" type="x-shader/x-fragment">
		    precision mediump float;

		    varying vec2 vUV;

		    void main(void) {
		    	vec2 dv = vUV - vec2(0.5, 0.5);
		    	float d = dot(dv, dv);
		    	float c = 1.0 / (d*100.0);

		    	//float c = 1.0 / (d*10.0);
		    	//c = clamp(0.5 - d, 0.0, 1.0) * c;

		        gl_FragColor = vec4(c*0.5, c*0.5, c, 1); //vColor;
		    }
		</script>

		<script id="starfield-vs" type="x-shader/x-vertex">
		    attribute vec4 aPos;
		    attribute vec2 aUV;

		    uniform mat4 projMat;
		    uniform mat4 modelViewMat;
		    //uniform mat4 modelMat;
		    //uniform mat4 viewMat;

		    varying vec2 vUV;

		    void main(void) {
		    	vec4 pos = vec4(aPos.xyz, 1.0);
		    	vec2 offset = (aUV - 0.5) * 0.005;

		    	//pos = viewMat * modelMat * pos;
		    	pos = modelViewMat * pos;
		    	pos.xy += offset;

		        gl_Position = projMat * pos;
		        vUV = aUV;
		    }
		</script>

		<script type="text/javascript" src="external/gl-matrix-min.js"></script>
		<script type="text/javascript" src="external/webgl-utils.js"></script>
		<script type="text/javascript" src="compiled/xgl.js"></script>
		<script type="text/javascript" src="compiled/RandomStream.js"></script>
		<script type="text/javascript" src="compiled/Camera.js"></script>
		<script type="text/javascript" src="compiled/StarField.js"></script>
		<script type="text/javascript" src="compiled/Main.js"></script>
	</body>
</html>
